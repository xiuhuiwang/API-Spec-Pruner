openapi: 3.0.1
info:
  title: Azure OpenAI API version "2022-12-01"
  description: APIs for fine-tuning and managing deployments of OpenAI models.
  version: '2022-12-01'
servers:
- url: https://snaplogic-agent-creator.openai.azure.com/openai
paths:
  /deployments:
    get:
      tags:
      - 'Deployments:'
      summary: Gets the list of deployments owned by the Azure OpenAI resource.
      operationId: Deployments_List
      parameters:
      - name: api-version
        in: query
        description: The requested API version.
        required: true
        schema:
          type: string
          x-ms-client-default: '2022-12-01'
          x-ms-parameter-location: client
        x-ms-client-default: '2022-12-01'
        x-ms-parameter-location: client
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeploymentList'
        default:
          description: An error occurred.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /models:
    get:
      tags:
      - 'Models:'
      summary: "Gets a list of all models that are accessible by the Azure OpenAI\
        \ resource.\r\nThese include base models as well as all successfully completed\
        \ fine-tuned models owned by the Azure OpenAI resource."
      operationId: Models_List
      parameters:
      - name: api-version
        in: query
        description: The requested API version.
        required: true
        schema:
          type: string
          x-ms-client-default: '2022-12-01'
          x-ms-parameter-location: client
        x-ms-client-default: '2022-12-01'
        x-ms-parameter-location: client
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModelList'
        default:
          description: An error occurred.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /files:
    get:
      tags:
      - 'Files:'
      summary: "Gets a list of all files owned by the Azure OpenAI resource.\r\nThese\
        \ include user uploaded content like files with purpose \"fine-tune\" for\
        \ training or validation of fine-tunes models\r\nas well as files that are\
        \ generated by the service such as \"fine-tune-results\" which contains various\
        \ metrics for the corresponding fine-tune job."
      operationId: Files_List
      parameters:
      - name: api-version
        in: query
        description: The requested API version.
        required: true
        schema:
          type: string
          x-ms-client-default: '2022-12-01'
          x-ms-parameter-location: client
        x-ms-client-default: '2022-12-01'
        x-ms-parameter-location: client
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FileList'
        default:
          description: An error occurred.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    post:
      tags:
      - 'Files:'
      summary: Creates a new file entity by uploading data from a local machine. Uploaded
        files can, for example, be used for training or evaluating fine-tuned models.
      operationId: Files_Upload
      parameters:
      - name: api-version
        in: query
        description: The requested API version.
        required: true
        schema:
          type: string
          x-ms-client-default: '2022-12-01'
          x-ms-parameter-location: client
        x-ms-client-default: '2022-12-01'
        x-ms-parameter-location: client
      requestBody:
        content:
          multipart/form-data:
            schema:
              required:
              - file
              - purpose
              type: object
              properties:
                purpose:
                  type: string
                  description: The intended purpose of the uploaded documents. Use
                    "fine-tune" for fine-tuning. This allows us to validate the format
                    of the uploaded file.
                  enum:
                  - fine-tune
                  - fine-tune-results
                  x-ms-enum:
                    name: Purpose
                    modelAsString: true
                    values:
                    - value: fine-tune
                      description: This file contains training data for a fine tune
                        job.
                    - value: fine-tune-results
                      description: This file contains the results of a fine tune job.
                file:
                  type: string
                  description: Gets or sets the file to upload into Azure OpenAI.
                  format: binary
        required: true
      responses:
        '201':
          description: The file has been successfully created.
          headers:
            Location:
              description: The location of the newly created item.
              schema:
                type: string
                format: url
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/File'
        default:
          description: An error occurred.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /files/{file-id}:
    delete:
      tags:
      - 'Files:'
      summary: "Deletes the file with the given file-id.\r\nDeletion is also allowed\
        \ if a file was used, e.g., as training file in a fine-tune job."
      operationId: Files_Delete
      parameters:
      - name: file-id
        in: path
        description: The identifier of the file.
        required: true
        schema:
          type: string
      - name: api-version
        in: query
        description: The requested API version.
        required: true
        schema:
          type: string
          x-ms-client-default: '2022-12-01'
          x-ms-parameter-location: client
        x-ms-client-default: '2022-12-01'
        x-ms-parameter-location: client
      responses:
        '204':
          description: The file was successfully deleted.
          content: {}
        default:
          description: An error occurred.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
components:
  schemas:
    Capabilities:
      title: Capabilities
      required:
      - completion
      - embeddings
      - fine_tune
      - inference
      - scale_types
      type: object
      properties:
        fine_tune:
          type: boolean
          description: A value indicating whether a model can be used for fine tuning.
        inference:
          type: boolean
          description: A value indicating whether a model can be deployed.
        completion:
          type: boolean
          description: A value indicating whether a model supports completion.
        embeddings:
          type: boolean
          description: A value indicating whether a model supports embeddings.
        scale_types:
          type: array
          description: The supported scale types for deployments of this model.
          items:
            $ref: '#/components/schemas/ScaleType'
      description: The capabilities of a base or fine tune model.
    Deployment:
      title: Deployment
      required:
      - model
      - scale_settings
      type: object
      properties:
        object:
          $ref: '#/components/schemas/TypeDiscriminator'
        status:
          $ref: '#/components/schemas/State'
        created_at:
          type: integer
          description: A timestamp when this job or item was created (in unix epochs).
          format: unixtime
          readOnly: true
        updated_at:
          type: integer
          description: A timestamp when this job or item was modified last (in unix
            epochs).
          format: unixtime
          readOnly: true
        id:
          type: string
          description: The identity of this item.
          readOnly: true
        model:
          minLength: 1
          type: string
          description: The OpenAI model identifier (model-id) to deploy. Can be a
            base model or a fine tune.
        owner:
          type: string
          description: The owner of this deployment. For Azure OpenAI only "organization-owner"
            is supported.
          readOnly: true
        scale_settings:
          $ref: '#/components/schemas/ScaleSettings'
        error:
          $ref: '#/components/schemas/Error'
      description: Deployments manage the reserved quota for Azure OpenAI models and
        make them available for inference requests.
    DeploymentList:
      title: DeploymentList
      type: object
      properties:
        object:
          $ref: '#/components/schemas/TypeDiscriminator'
        data:
          type: array
          description: The list of items.
          items:
            $ref: '#/components/schemas/Deployment'
      description: Represents a list of deployments.
    Deprecation:
      title: Deprecation
      required:
      - inference
      type: object
      properties:
        fine_tune:
          type: integer
          description: The end date of fine tune support of this model. Will be `null`
            for fine tune models.
          format: unixtime
        inference:
          type: integer
          description: The end date of inference support of this model.
          format: unixtime
      description: "Defines the dates of deprecation for the different use cases of\
        \ a model.\r\nUsually base models support 1 year of fine tuning after creation.\
        \ Inference is typically supported 2 years after creation of base or\r\nfine\
        \ tuned models. The exact dates are specified in the properties."
    Error:
      title: Error
      required:
      - code
      - message
      type: object
      properties:
        code:
          $ref: '#/components/schemas/ErrorCode'
        message:
          minLength: 1
          type: string
          description: The message of this error.
        target:
          type: string
          description: The location where the error happened if available.
        details:
          type: array
          description: The error details if available.
          items:
            x-removed-circular-ref: '#/components/schemas/Error'
            type: object
            description: Circular reference to Error was removed
        innererror:
          $ref: '#/components/schemas/InnerError'
      description: "Error content as defined in the Microsoft REST guidelines\r\n\
        (https://github.com/microsoft/api-guidelines/blob/vNext/Guidelines.md#7102-error-condition-responses)."
    ErrorCode:
      title: ErrorCode
      type: string
      description: "Error codes as defined in the Microsoft REST guidelines\r\n(https://github.com/microsoft/api-guidelines/blob/vNext/Guidelines.md#7102-error-condition-responses)."
      enum:
      - conflict
      - invalidPayload
      - forbidden
      - notFound
      - unexpectedEntityState
      - itemDoesAlreadyExist
      - serviceUnavailable
      - internalFailure
      - quotaExceeded
      - jsonlValidationFailed
      - fileImportFailed
      x-ms-enum:
        name: ErrorCode
        modelAsString: true
        values:
        - value: conflict
          description: The requested operation conflicts with the current resource
            state.
        - value: invalidPayload
          description: The request data is invalid for this operation.
        - value: forbidden
          description: The operation is forbidden for the current user/api key.
        - value: notFound
          description: The resource is not found.
        - value: unexpectedEntityState
          description: The operation cannot be executed in the current resource's
            state.
        - value: itemDoesAlreadyExist
          description: The item does already exist.
        - value: serviceUnavailable
          description: The service is currently not available.
        - value: internalFailure
          description: Internal error. Please retry.
        - value: quotaExceeded
          description: Quota exceeded.
        - value: jsonlValidationFailed
          description: Validation of jsonl data failed.
        - value: fileImportFailed
          description: Import of file failed.
    ErrorResponse:
      title: ErrorResponse
      required:
      - error
      type: object
      properties:
        error:
          $ref: '#/components/schemas/Error'
      description: "Error response as defined in the Microsoft REST guidelines\r\n\
        (https://github.com/microsoft/api-guidelines/blob/vNext/Guidelines.md#7102-error-condition-responses)."
    File:
      title: File
      required:
      - filename
      - purpose
      type: object
      properties:
        object:
          $ref: '#/components/schemas/TypeDiscriminator'
        status:
          $ref: '#/components/schemas/State'
        created_at:
          type: integer
          description: A timestamp when this job or item was created (in unix epochs).
          format: unixtime
          readOnly: true
        updated_at:
          type: integer
          description: A timestamp when this job or item was modified last (in unix
            epochs).
          format: unixtime
          readOnly: true
        id:
          type: string
          description: The identity of this item.
          readOnly: true
        bytes:
          type: integer
          description: "The size of this file when available (can be null). File sizes\
            \ larger than 2^53-1 are not supported to ensure compatibility\r\nwith\
            \ JavaScript integers."
          format: int64
          readOnly: true
        purpose:
          $ref: '#/components/schemas/Purpose'
        filename:
          minLength: 1
          type: string
          description: The name of the file.
        statistics:
          $ref: '#/components/schemas/FileStatistics'
        error:
          $ref: '#/components/schemas/Error'
      description: A file is a document usable for training and validation. It can
        also be a service generated document with result details.
    FileList:
      title: FileList
      type: object
      properties:
        object:
          $ref: '#/components/schemas/TypeDiscriminator'
        data:
          type: array
          description: The list of items.
          items:
            $ref: '#/components/schemas/File'
      description: Represents a list of files.
    FileStatistics:
      title: FileStatistics
      type: object
      properties:
        tokens:
          type: integer
          description: The number of tokens used in prompts and completions for files
            of kind "fine-tune" once validation of file content is complete.
          format: int32
        examples:
          type: integer
          description: The number of contained training examples in files of kind
            "fine-tune" once validation of file content is complete.
          format: int32
      description: A file is a document usable for training and validation. It can
        also be a service generated document with result details.
    InnerError:
      title: InnerError
      type: object
      properties:
        code:
          $ref: '#/components/schemas/InnerErrorCode'
        innererror:
          x-removed-circular-ref: '#/components/schemas/InnerError'
          type: object
          description: Circular reference to InnerError was removed
      description: "Inner error as defined in the Microsoft REST guidelines\r\n(https://github.com/microsoft/api-guidelines/blob/vNext/Guidelines.md#7102-error-condition-responses)."
    InnerErrorCode:
      title: InnerErrorCode
      type: string
      description: "Inner error codes as defined in the Microsoft REST guidelines\r\
        \n(https://github.com/microsoft/api-guidelines/blob/vNext/Guidelines.md#7102-error-condition-responses)."
      enum:
      - invalidPayload
      x-ms-enum:
        name: InnerErrorCode
        modelAsString: true
        values:
        - value: invalidPayload
          description: The request data is invalid for this operation.
    LifeCycleStatus:
      title: LifeCycleStatus
      type: string
      description: "The life cycle status of a model.\r\nNote: A model can be promoted\
        \ from \"preview\" to \"generally-available\", but never from \"generally-available\"\
        \ to \"preview\"."
      enum:
      - preview
      - generally-available
      x-ms-enum:
        name: LifeCycleStatus
        modelAsString: true
        values:
        - value: preview
          description: Model is in preview and covered by the service preview terms.
        - value: generally-available
          description: Model is generally available.
    Model:
      title: Model
      required:
      - capabilities
      - deprecation
      - lifecycle_status
      type: object
      properties:
        object:
          $ref: '#/components/schemas/TypeDiscriminator'
        status:
          $ref: '#/components/schemas/State'
        created_at:
          type: integer
          description: A timestamp when this job or item was created (in unix epochs).
          format: unixtime
          readOnly: true
        updated_at:
          type: integer
          description: A timestamp when this job or item was modified last (in unix
            epochs).
          format: unixtime
          readOnly: true
        id:
          type: string
          description: The identity of this item.
          readOnly: true
        model:
          type: string
          description: The base model identity (model-id) if this is a fine tune model;
            otherwise `null`.
        fine_tune:
          type: string
          description: The fine tune job identity (fine-tune-id) if this is a fine
            tune model; otherwise `null`.
        capabilities:
          $ref: '#/components/schemas/Capabilities'
        lifecycle_status:
          $ref: '#/components/schemas/LifeCycleStatus'
        deprecation:
          $ref: '#/components/schemas/Deprecation'
      description: A model is either a base model or the result of a successful fine
        tune job.
    ModelList:
      title: ModelList
      type: object
      properties:
        object:
          $ref: '#/components/schemas/TypeDiscriminator'
        data:
          type: array
          description: The list of items.
          items:
            $ref: '#/components/schemas/Model'
      description: Represents a list of models.
    Purpose:
      title: Purpose
      type: string
      description: The intended purpose of the uploaded documents. Use "fine-tune"
        for fine-tuning. This allows us to validate the format of the uploaded file.
      enum:
      - fine-tune
      - fine-tune-results
      x-ms-enum:
        name: Purpose
        modelAsString: true
        values:
        - value: fine-tune
          description: This file contains training data for a fine tune job.
        - value: fine-tune-results
          description: This file contains the results of a fine tune job.
    ScaleSettings:
      title: ScaleSettings
      required:
      - scale_type
      type: object
      properties:
        scale_type:
          $ref: '#/components/schemas/ScaleType'
      description: The scale settings of a deployment. It defines the modes for scaling
        and the reserved capacity.
      discriminator:
        propertyName: scale_type
    ScaleType:
      title: ScaleType
      type: string
      description: Defines how scaling operations will be executed.
      enum:
      - manual
      - standard
      x-ms-enum:
        name: ScaleType
        modelAsString: true
        values:
        - value: manual
          description: Scaling of a deployment will happen by manually specifying
            the capacity of a model.
        - value: standard
          description: Scaling of a deployment will happen automatically based on
            usage.
    State:
      title: State
      type: string
      description: The state of a job or item.
      enum:
      - notRunning
      - running
      - succeeded
      - canceled
      - failed
      - deleted
      x-ms-enum:
        name: State
        modelAsString: true
        values:
        - value: notRunning
          description: The operation was created and is not queued to be processed
            in the future.
        - value: running
          description: The operation has started to be processed.
        - value: succeeded
          description: The operation has successfully be processed and is ready for
            consumption.
        - value: canceled
          description: The operation has been canceled and is incomplete.
        - value: failed
          description: The operation has completed processing with a failure and cannot
            be further consumed.
        - value: deleted
          description: The entity has been deleted but may still be referenced by
            other entities predating the deletion.
    TypeDiscriminator:
      title: TypeDiscriminator
      type: string
      description: Defines the type of an object.
      enum:
      - list
      - fine-tune
      - file
      - fine-tune-event
      - model
      - deployment
      x-ms-enum:
        name: TypeDiscriminator
        modelAsString: true
        values:
        - value: list
          description: This object represents a list of other objects.
        - value: fine-tune
          description: This object represents a fine tune job.
        - value: file
          description: This object represents a file.
        - value: fine-tune-event
          description: This object represents an event of a fine tune job.
        - value: model
          description: This object represents a model (can be a base models or fine
            tune job result).
        - value: deployment
          description: This object represents a deployment.
